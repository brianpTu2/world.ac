<?php 
require_once("sql.php");

//Commented out to prevent any people sending the emails by mistake
//$UCCLIST = "alexander.adolphe@ucc.on.ca,nicholas.adolphe@ucc.on.ca,faisal.agbonhin@ucc.on.ca,nicholas.alderman@ucc.on.ca,maxwell.allen@ucc.on.ca,scotty.andrade@ucc.on.ca,Robert.Ash@ucc.on.ca,mohamad.assaf@ucc.on.ca,sam.babatsikos@ucc.on.ca,rahim.baird@ucc.on.ca,shaumik.baki@ucc.on.ca,jeremy.bell@ucc.on.ca,michael.bertucci@ucc.on.ca,derin.bilgen@ucc.on.ca,Emerson.Braithwaite@ucc.on.ca,jalen.butler@ucc.on.ca,max.carbone@ucc.on.ca,benjamin.chan@ucc.on.ca,connor.charton@ucc.on.ca,Karman.Cheema@ucc.on.ca,jesse.chudnow@ucc.on.ca,trevor.chung@ucc.on.ca,jonathan.clements@ucc.on.ca,jonathan.clinton@ucc.on.ca,jeff.collins@ucc.on.ca,keenan.conlon@ucc.on.ca,mac.connor@ucc.on.ca,chris.connors@ucc.on.ca,alexander.corelli@ucc.on.ca,andy.coxford@ucc.on.ca,scott.cronin@ucc.on.ca,nicholas.czegledy@ucc.on.ca,sevion.dacosta@ucc.on.ca,taso.daskalakis@ucc.on.ca,drew.davidson@ucc.on.ca,hannibal.depencier@ucc.on.ca,mark.debono@ucc.on.ca,Max.DebowKrawitz@ucc.on.ca,sachin.desai@ucc.on.ca,Bryan.Ding@ucc.on.ca,Rory.Doyle@ucc.on.ca,emilio.elia@ucc.on.ca,derek.enns@ucc.on.ca,jaden.esmail@ucc.on.ca,maxwell.fingold@ucc.on.ca,elliot.fish@ucc.on.ca,rj.francis@ucc.on.ca,hanno.friedrich@ucc.on.ca,andrew.gabriele@ucc.on.ca,Jake.Gamoyda@ucc.on.ca,kai.gelcer@ucc.on.ca,jacob.golden@ucc.on.ca,jacob.gotlieb@ucc.on.ca,pearce.gould@ucc.on.ca,brandon.grant@ucc.on.ca,jose.guerra@ucc.on.ca,davis.guzman@ucc.on.ca,ben.hackett@ucc.on.ca,Joshua.Harry@ucc.on.ca,lucas.harvey@ucc.on.ca,joshua.heath@ucc.on.ca,thomas.hickman@ucc.on.ca,miles.hoaken@ucc.on.ca,anthony.hua@ucc.on.ca,reid.humphrey@ucc.on.ca,trevor.hutcheson@ucc.on.ca,matthew.hwang@ucc.on.ca,luca.imbrogno@ucc.on.ca,robbie.inglis@ucc.on.ca,theo.iordache@ucc.on.ca,Zack.Jackson@ucc.on.ca,matthew.jagdeo@ucc.on.ca,carter.jan@ucc.on.ca,Darwin.Jimal@ucc.on.ca,JiaCheng.Jin@ucc.on.ca,owen.jones@ucc.on.ca,Todd.Joy@ucc.on.ca,langdon.kay@ucc.on.ca,Takoda.Kemp@ucc.on.ca,Kyungphil.Ko@ucc.on.ca,Yusef.Lakhani@ucc.on.ca,carson.lamont@ucc.on.ca,ben.langford@ucc.on.ca,tristan.lawson@ucc.on.ca,alex.lee@ucc.on.ca,nathan.lee@ucc.on.ca,brent.leung@ucc.on.ca,robin.lin@ucc.on.ca,peter.liu@ucc.on.ca,mike.macdougall@ucc.on.ca,vincent.manget@ucc.on.ca,harry.mansfield@ucc.on.ca,bradley.manucha@ucc.on.ca,jeremy.marco@ucc.on.ca,James.McCutcheon@ucc.on.ca,brian.mcgrath@ucc.on.ca,benji.mclean@ucc.on.ca,nathan.mclean@ucc.on.ca,Charlie.Mortimer@ucc.on.ca,matt.mountford@ucc.on.ca,olivier.mugabo@ucc.on.ca,kimathi.muiruri@ucc.on.ca,joshua.ngan@ucc.on.ca,alex.nguyen@ucc.on.ca,tien.nguyen@ucc.on.ca,philip.nicoletti@ucc.on.ca,Noorain.Noorani@ucc.on.ca,Victor.Pang@ucc.on.ca,K.Paramaanantham@ucc.on.ca,arjun.pasricha@ucc.on.ca,andrew.peck@ucc.on.ca,thomas.peck@ucc.on.ca,john.peri@ucc.on.ca,jay.potts@ucc.on.ca,cooper.pryde@ucc.on.ca,seyon.rajadurai@ucc.on.ca,kamran.ramji@ucc.on.ca,Tom.Reeve@ucc.on.ca,liam.regan@ucc.on.ca,joseph.richmond@ucc.on.ca,malcolm.risk@ucc.on.ca,arjun.sandhu@ucc.on.ca,Marko.Sarenac@ucc.on.ca,Jack.Sarick@ucc.on.ca,Adam.Sellan@ucc.on.ca,aidan.sgro@ucc.on.ca,jonathan.shammas@ucc.on.ca,Kal.Shaw@ucc.on.ca,cameron.sheehy@ucc.on.ca,zeeshan.shirazi@ucc.on.ca,ron.singer@ucc.on.ca,julien.smit@ucc.on.ca,Hugh.Smith@ucc.on.ca,ben.sokol@ucc.on.ca,michael.spiegel@ucc.on.ca,aj.springer@ucc.on.ca,will.stevens@ucc.on.ca,luke.swadron@ucc.on.ca,Flynn.Tanner@ucc.on.ca,jonathan.thompson@ucc.on.ca,blake.thorburn@ucc.on.ca,Brendan.Tighe@ucc.on.ca,christopher.tong@ucc.on.ca,Trung.Tran@ucc.on.ca,jack.tuchner@ucc.on.ca,Grierson.Turpie@ucc.on.ca,joshua.vanmarken@ucc.on.ca,robert.walker@ucc.on.ca,Mati.Wan@ucc.on.ca,james.warren@ucc.on.ca,Jonathan.Wedgbury@ucc.on.ca,nick.wedgwood@ucc.on.ca,jay.williams@ucc.on.ca,liam.williams@ucc.on.ca,Jamie.Wilson@ucc.on.ca,thomas.wilson@ucc.on.ca,robert.wong@ucc.on.ca,luke.wu@ucc.on.ca,jacob.young@ucc.on.ca,paul.zaki@ucc.on.ca,tiger.zhang@ucc.on.ca,Zhengbang.Zhou@ucc.on.ca,evan.zucker@ucc.on.ca,Shaig.Abduragimov@ucc.on.ca,Umid.Abduragimov@ucc.on.ca,atef.abedin@ucc.on.ca,Andrew.Arnone@ucc.on.ca,Matt.Baker@ucc.on.ca,Harrison.Barford@ucc.on.ca,Jacob.Beckerman@ucc.on.ca,Isaac.Benjamin@ucc.on.ca,Sam.Beqaj@ucc.on.ca,Elliott.Birman@ucc.on.ca,Gabriel.Birman@ucc.on.ca,Liam.Black@ucc.on.ca,Calvin.Bouchard@ucc.on.ca,gabriel.boucher@ucc.on.ca,Mark.Bowen@ucc.on.ca,jake.bradshaw@ucc.on.ca,Simon.Broer@ucc.on.ca,Benjamin.Caldwell@ucc.on.ca,andrew.cao@ucc.on.ca,Devonte.Case@ucc.on.ca,Sam.Caylor@ucc.on.ca,Raphael.Chan@ucc.on.ca,jeffrey.chen@ucc.on.ca,Thomas.Chin@ucc.on.ca,Theodore.Christakis@ucc.on.ca,James.Coady@ucc.on.ca,Mattia.Colangelo@ucc.on.ca,ben.cook@ucc.on.ca,Charlie.Cottrelle@ucc.on.ca,Gregory.Cupillari@ucc.on.ca,Sebastian.David@ucc.on.ca,Nitish.Dhingra@ucc.on.ca,bora.dirilgen@ucc.on.ca,niccolo.donati@ucc.on.ca,James.Dorgan@ucc.on.ca,Jai.Dufton@ucc.on.ca,Seth.Dugan-Knight@ucc.on.ca,Charles.Dunn@ucc.on.ca,Darren.Elias@ucc.on.ca,Jack.Erickson@ucc.on.ca,Brandon.Falcone@ucc.on.ca,Sam.Fleming@ucc.on.ca,William.Forcina@ucc.on.ca,Mats.Gavelin@ucc.on.ca,Jacob.Geddes@ucc.on.ca,Hon-Ming.Gianotti@ucc.on.ca,Ross.Graham@ucc.on.ca,Tyler.Green@ucc.on.ca,Devlin.Gresdal@ucc.on.ca,James.Griffith@ucc.on.ca,Steven.Guo@ucc.on.ca,William.Hanna@ucc.on.ca,Jake.Harris@ucc.on.ca,Douglas.Heaton@ucc.on.ca,can.hepkarabelli@ucc.on.ca,Simon.Higgins@ucc.on.ca,Jason.Hillier@ucc.on.ca,Michael.HoPingKong@ucc.on.ca,Will.Holtforster@ucc.on.ca,will.houser@ucc.on.ca,Chris.HuangChang@ucc.on.ca,Sebastian.Hubbard@ucc.on.ca,Janan.Illango@ucc.on.ca,Saverio.Imbrogno@ucc.on.ca,Louis.Jarvis@ucc.on.ca,Tegh.Jauhal@ucc.on.ca,Clayton.Jeffrey@ucc.on.ca,Imran.Jessa@ucc.on.ca,Nathan.Jin@ucc.on.ca,Graeme.Joel@ucc.on.ca,Jake.Joffe@ucc.on.ca,alykhan.kara@ucc.on.ca,Nikhil.Kassum@ucc.on.ca,Yuya.Kawakami@ucc.on.ca,Jeremy.Kim@ucc.on.ca,Rory.Kimel@ucc.on.ca,Andrew.Kozicz@ucc.on.ca,John.Kustec@ucc.on.ca,Connor.Kwinter@ucc.on.ca,Andrew.Lamb@ucc.on.ca,matty.lapointe@ucc.on.ca,Ariel.Leavitt@ucc.on.ca,Charles.Lee@ucc.on.ca,Henry.Lee@ucc.on.ca,Kevin.Lee@ucc.on.ca,Steven.Leu@ucc.on.ca,Ernest.Leung@ucc.on.ca,Shahmu.Lodhi@ucc.on.ca,alberto.londono@ucc.on.ca,Lucas.Longhurst@ucc.on.ca,Justin.Lu@ucc.on.ca,Charlie.Marshall@ucc.on.ca,Benjamin.McDonald@ucc.on.ca,Simon.McKenzie@ucc.on.ca,Owen.McKernan@ucc.on.ca,Austen.McMurchy@ucc.on.ca,Sean.Medeiros@ucc.on.ca,Liam.Meneley@ucc.on.ca,Connor.Moore@ucc.on.ca,Edward.Munn@ucc.on.ca,Michael.Murphy@ucc.on.ca,Ronan.Murphy@ucc.on.ca,Sabastian.Murrell@ucc.on.ca,Hunter.Nord@ucc.on.ca,Carr.Norton@ucc.on.ca,Jack.Norton@ucc.on.ca,Joseph.Noss@ucc.on.ca,Ryan.OShea@ucc.on.ca,Hunter.Okubasu@ucc.on.ca,matthew.parsons@ucc.on.ca,Minh.Pham@ucc.on.ca,Aidan.Power@ucc.on.ca,Adam.Quarin@ucc.on.ca,zacharie.quiviger@ucc.on.ca,Jordan.Rao@ucc.on.ca,Arthur.Rattew@ucc.on.ca,Alexander.Roberts@ucc.on.ca,Nicholas.Salama@ucc.on.ca,Nicolas.Savoy@ucc.on.ca,DJ.Schnekenburger@ucc.on.ca,Prince.Sethi@ucc.on.ca,Andrew.Sheldon@ucc.on.ca,Kai.Shiida@ucc.on.ca,E.Shoichet-Bartus@ucc.on.ca,Theo.Sigel@ucc.on.ca,Adair.Simpson@ucc.on.ca,Jeremy.Smith@ucc.on.ca,Cole.Steeves@ucc.on.ca,Patrick.Stevenson@ucc.on.ca,Evan.Sukman@ucc.on.ca,John.Tattersall@ucc.on.ca,Max.Taylor@ucc.on.ca,Bradley.Tennyson@ucc.on.ca,Djordje.Todorovic@ucc.on.ca,Nikolas.Tsatsos@ucc.on.ca,Brandon.Tse@ucc.on.ca,Max.Tukulj@ucc.on.ca,James.Turner@ucc.on.ca,Edmund.Un@ucc.on.ca,jeff.vandenberghe@ucc.on.ca,Jack.VanNostrand@ucc.on.ca,Mich.Ward@ucc.on.ca,Ryan.Watchorn@ucc.on.ca,Paul.Weiser@ucc.on.ca,Hendrik.Wennberg@ucc.on.ca,James.White@ucc.on.ca,Emmanuel.Wong@ucc.on.ca,Justin.Wong@ucc.on.ca,Michael.Wood@ucc.on.ca,Yin.Xiao@ucc.on.ca,Charlie.Yang@ucc.on.ca,Logan.Ye@ucc.on.ca,yizhou.yu@ucc.on.ca,John.Zhang@ucc.on.ca,mohammed.abuelaish@ucc.on.ca,Harkirat.Ahluwalia@ucc.on.ca,Ryan.Albaum@ucc.on.ca,John.Albert@ucc.on.ca,Philippe.Archambault@ucc.on.ca,Craig.Archibald@ucc.on.ca,Themi.Babatsikos@ucc.on.ca,Mitchell.Bannon@ucc.on.ca,Osman.Bari@ucc.on.ca,Andrew.Barron@ucc.on.ca,mark.bastow@ucc.on.ca,Brett.Beckley@ucc.on.ca,Emir.Belkacem@ucc.on.ca,Shawn.Bongers@ucc.on.ca,Tyler.Burns@ucc.on.ca,Graham.Burton@ucc.on.ca,Josh.Cait@ucc.on.ca,Matthew.Caminiti@ucc.on.ca,David.Cash@ucc.on.ca,Luc.Cesta@ucc.on.ca,Brandon.Chan@ucc.on.ca,Arnold.Cheung@ucc.on.ca,Keven.Cheung@ucc.on.ca,Kinton.Cheung@ucc.on.ca,David.Chiodo@ucc.on.ca,Ayser.Choudhury@ucc.on.ca,Brendan.Chung@ucc.on.ca,Andrew.Colussi@ucc.on.ca,James.Cornish@ucc.on.ca,Phil.Cowan@ucc.on.ca,Peter.Coxford@ucc.on.ca,Lucas.Cusimano@ucc.on.ca,Alexander.Czegledy@ucc.on.ca,Jack.deLange@ucc.on.ca,Liam.Dewson@ucc.on.ca,Peter.Ehvert@ucc.on.ca,Nicholas.Elder@ucc.on.ca,Matthew.Etchells@ucc.on.ca,Faraz.Fadavi@ucc.on.ca,amir.fawzy@ucc.on.ca,Liam.Findlay@ucc.on.ca,brandon.fleisher@ucc.on.ca,Mitchell.Foo@ucc.on.ca,Brady.Gales@ucc.on.ca,Samuel.Gernburd@ucc.on.ca,Gianlorenzo.Giannone@ucc.on.ca,Jacob.Givertz-Steel@ucc.on.ca,A.GomezKunicki@ucc.on.ca,Juan.Gomez@ucc.on.ca,Henry.Gould@ucc.on.ca,Nestor.Grandal@ucc.on.ca,Scott.Harvey@ucc.on.ca,Ali.Haydaroglu@ucc.on.ca,Conor.Healy@ucc.on.ca,Louis.Hebert@ucc.on.ca,Aaron.Ho@ucc.on.ca,Andrew.Irwin@ucc.on.ca,Cameron.Jewett@ucc.on.ca,Alexander.Jewkes@ucc.on.ca,Garrett.Johnston@ucc.on.ca,Javid.Karim@ucc.on.ca,Alnur.Kassim-Lakha@ucc.on.ca,Charlton.Kelly@ucc.on.ca,Peter.Kim@ucc.on.ca,Theo.Kingdom@ucc.on.ca,Tor.Kitching@ucc.on.ca,Yuan.Kong@ucc.on.ca,D.Kovacs-DaCosta@ucc.on.ca,W.Labasi-Sammartino@ucc.on.ca,Shakir.Lakhani@ucc.on.ca,Derek.Lam@ucc.on.ca,Enoch.Lam@ucc.on.ca,Will.Lawrence@ucc.on.ca,Harris.Lechtzier@ucc.on.ca,Calvin.Lee@ucc.on.ca,Patrick.Lee@ucc.on.ca,Johnny.Li@ucc.on.ca,Jameson.Lobb@ucc.on.ca,Darrien.Lui@ucc.on.ca,James.Lutz@ucc.on.ca,cody.macrae@ucc.on.ca,Ben.Mahon@ucc.on.ca,Pedram.Malakian@ucc.on.ca,Lucas.Manucha@ucc.on.ca,Greg.Marks@ucc.on.ca,Lee.Marlowe@ucc.on.ca,John.Marshall@ucc.on.ca,Sam.McAlpine@ucc.on.ca,Alexander.Mertens@ucc.on.ca,Jeff.Misner@ucc.on.ca,Jake.Muchnik@ucc.on.ca,Matthew.Newland@ucc.on.ca,Raymond.Ng@ucc.on.ca,Jack.Nolan@ucc.on.ca,Jack.Oneschuk@ucc.on.ca,Duke.Oxtoby@ucc.on.ca,Andrew.Patel@ucc.on.ca,Matthew.Patel@ucc.on.ca,Gordon.Peck@ucc.on.ca,Jack.Pendrith@ucc.on.ca,Ryan.Polan@ucc.on.ca,Sidney.Poon@ucc.on.ca,Michael.Pusic@ucc.on.ca,Brooks.Ralph@ucc.on.ca,Will.Reilly@ucc.on.ca,George.Ren@ucc.on.ca,Eric.Rogic@ucc.on.ca,Jake.Roseman@ucc.on.ca,Ryan.Sheehy@ucc.on.ca,Connor.Smith@ucc.on.ca,Alexander.Solomos@ucc.on.ca,Matthew.Stackhouse@ucc.on.ca,Andrew.Sterling@ucc.on.ca,Jack.Stevens@ucc.on.ca,Matthew.Stonehouse@ucc.on.ca,Jackson.Suboch@ucc.on.ca,andrew.sun@ucc.on.ca,Sydney.Swartz@ucc.on.ca,Samson.Tamrat@ucc.on.ca,Ryan.Ting@ucc.on.ca,Jon.Tokiwa@ucc.on.ca,Nathan.Tong@ucc.on.ca,Christopher.Tully@ucc.on.ca,Markus.Valvur@ucc.on.ca,Tyler.vanderVelden@ucc.on.ca,Haydn.Walker@ucc.on.ca,Aleksei.Wan@ucc.on.ca,Ziyang.Wang@ucc.on.ca,Charlie.Watson@ucc.on.ca,Cameron.White@ucc.on.ca,Ciaran.Wilkie@ucc.on.ca,Connor.Wilkinson@ucc.on.ca,Drew.Willoughby@ucc.on.ca,Christopher.Wood@ucc.on.ca,Matthew.Ye@ucc.on.ca,bhaskara.yechuri@ucc.on.ca,Jordan.Young@ucc.on.ca,Akeil.Zarudny@ucc.on.ca,Xu.Zhang@ucc.on.ca,Jacob.Zucker@ucc.on.ca,Seth.Zucker@ucc.on.ca";

$outgoing_list = explode(",", $UCCLIST);

$total = count($outgoing_list);

foreach ($outgoing_list as $key => $value) {
	
	$this_man = sqlQuery($connection, "SELECT * FROM students WHERE email = '".$value."';");

	if (empty($this_man[0]['plen1'])){
		
		preg_match("/^([^\.]*)/", $value, $matches);

		//Dispatch Email
		$to = $value;
		$subject = "Last chance to select WAC 2015 Plenary session options.";
		$message = "Hello ".ucwords($matches[0]).",\n\nYou have still not selected your plenary sessions. Please take a moment to submit your WAC plenary selections, they are due tonight. If you do not submit your request you will be placed randomly in plenary sessions.\n\nClick Here: www.world.ac/plenaryselection/select.php?s=".$this_man[0]['hashed']."\n\nKind Regards,\nWAC Registration Team";
		$from = "WACPlenarySelectMonkey";
		$headers = "From:" . $from;
		//mail($to,$subject,$message,$headers);

		//Reporting
		echo "[".($key+1)."/".$total."] ".$value." - dispatched\n";
	}
	else{
		echo "[".($key+1)."/".$total."] ".$value." - already registered\n";
	}

}


?>